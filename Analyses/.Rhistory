getwd()
read.csv('../Data/saltygrass_cn.csv')
## load data
cn_data = read.csv('../Data/saltygrass_cn.csv')
cn_data
## load data
cn_data_raw = read.csv('../Data/saltygrass_cn.csv')
?subset
?columnnames
?column_names
?names
names(cn_data_raw)
names(cn_data_raw)
## curate the data
cn_data_noQC = subset(cn_data_raw, sample_id != 'QC')
cn_data_noQC$sample_id
?sep
?strsplit
test = strsplit(cn_data_noQC, ".")
test = strsplit(cn_data_noQC$sample_id, ".")
class(cn_data_noQC$sample_id)
test = strsplit(as.character(cn_data_noQC$sample_id), ".")
test
test = unlist(strsplit(as.character(cn_data_noQC$sample_id), "."))
test
as.character(cn_data_noQC$sample_id)
strsplit(as.character(cn_data_noQC$sample_id), ".")
test = strsplit(as.character(cn_data_noQC$sample_id), ".")
test[[1]]
test = strsplit(as.character(cn_data_noQC$sample_id), "[.]")
test[[1]]
head(cn_data_noQC)
unlist(strsplit(as.character(cn_data_noQC$sample_id), "[.]"))
cn_data_noQC$sample_id
### adding missing periods
cn_data_noQC$sample_id[2]
### adding missing periods
cn_data_noQC$sample_id[2] = "LB.1.8.S"
### change sample id to character
cn_data_noQC$sample_id = as.character(cn_data_noQC$sample_id)
### adding missing periods
cn_data_noQC$sample_id[2] = "LB.1.8.S"
cn_data_noQC$sample_id[2]
cn_data_noQC$sample_id
cn_data_noQC$sample_id[2] = "LB.1.8.S"
cn_data_noQC$sample_id[3] = "LB.1.16.S"
cn_data_noQC$sample_id[4] = "LB.1.24.S"
cn_data_noQC$sample_id[5] = "LB.2.0.S"
cn_data_noQC$sample_id[6] = "LB.2.8.S"
cn_data_noQC$sample_id[7] = "LB.2.16.S"
cn_data_noQC$sample_id[8] = "LB.2.24.S"
cn_data_noQC$sample_id[9] = "LB.3.0.S"
cn_data_noQC$sample_id[10] = "LB.3.8.S"
cn_data_noQC$sample_id[11] = "LB.3.16.S"
cn_data_noQC$sample_id[2] = "LB.1.8.S"
cn_data_noQC$sample_id[3] = "LB.1.16.S"
cn_data_noQC$sample_id[4] = "LB.1.24.S"
cn_data_noQC$sample_id[5] = "LB.2.0.S"
cn_data_noQC$sample_id[6] = "LB.2.8.S"
cn_data_noQC$sample_id[7] = "LB.2.16.S"
cn_data_noQC$sample_id[8] = "LB.2.24.S"
cn_data_noQC$sample_id[9] = "LB.3.0.S"
cn_data_noQC$sample_id[10] = "LB.3.8.S"
cn_data_noQC$sample_id[11] = "LB.3.16.S"
cn_data_noQC$sample_id[98] = "SG.1.8.R"
### split the sample id into separate columns
sample_id_list = strsplit(as.character(cn_data_noQC$sample_id), "[.]")
sample_id_list
sample_id_list[[]][1]
lapply(sample_id_list, `[[`, 1)
unlist(lapply(sample_id_list, `[[`, 1))
cn_data_noQC$species = unlist(lapply(sample_id_list, `[[`, 1))
cn_data_noQC$species
head(cn_data_noQC)
cn_data_noQC$block = unlist(lapply(sample_id_list, `[[`, 2))
cn_data_noQC$block
cn_data_noQC$treatment = unlist(lapply(sample_id_list, `[[`, 3))
cn_data_noQC$treatment
cn_data_noQC$organ = unlist(lapply(sample_id_list, `[[`, 4))
cn_data_noQC$organ
cn_data = cn_data_noQC
height_data_raw = read.csv('../Finalized_Height_Data_Linear.csv')
height_data_raw = read.csv('../Data/Finalized_Height_Data_Linear.csv')
colnames(height_data_raw)
height_data_raw = read.csv('../Data/Finalized_Height_Data_Linear.csv')
colnames(height_data_raw)
height_data_raw = read.csv('../Data/Finalized_Height_Data_Linear.csv')
colnames(height_data_raw)
## curate the height data
## split the sample id into separate columns
sample_id_list_height = strsplit(as.character(height_data_raw$Sample), "[.]")
sample_id_list_height
height_data_raw$treatment = unlist(lapply(sample_id_list_height, `[[`, 2))
height_data_raw$treatment
height_data_raw$rep = unlist(lapply(sample_id_list_height, `[[`, 3))
height_data_raw$rep
height_data_raw_sample_block = unlist(lapply(sample_id_list_height, `[[`, 1))
height_data_raw_sample_block
## load packages
library(stringr)
as.numeric(str_extract(height_data_raw_sample_block, "[0-9]+"))
height_data_raw$block = as.numeric(str_extract(height_data_raw_sample_block, "[0-9]+"))
height_data_raw$block
tail(height_data_raw)
height_data_raw$species = as.numeric(str_extract(height_data_raw_sample_block, "[aA-zZ]+"))
height_data_raw_sample_block
as.numeric(str_extract(height_data_raw_sample_block, "[aA-zZ]+"))
as.numeric(str_extract(height_data_raw_sample_block, "[A-Za-z]"))
as.numeric(str_extract(height_data_raw_sample_block, "[A-Za-z]+"))
height_data_raw_sample_block
strsplit(height_data_raw_sample_block, "(?=[A-Za-z])(?<=[0-9])|(?=[0-9])(?<=[A-Za-z])", perl=TRUE)
height_data_raw_sample_block =strsplit(height_data_raw_sample_block,
"(?=[A-Za-z])(?<=[0-9])|(?=[0-9])(?<=[A-Za-z])", perl=TRUE)
unlist(lapply(height_data_raw_sample_block), '[[', 2)
strsplit(height_data_raw_sample_block, "(?=[A-Za-z])(?<=[0-9])|(?=[0-9])(?<=[A-Za-z])", perl=TRUE)
height_data_raw_sample_block
unlist(lapply(height_data_raw_sample_block), '[[', 2))
unlist(lapply(height_data_raw_sample_block, '[[', 2))
height_data_raw$block = unlist(lapply(height_data_raw_sample_block, '[[', 2))
height_data_raw$species = unlist(lapply(height_data_raw_sample_block, '[[', 1))
height_data_raw$species
head(height_data_raw)
height_data = height_data_raw
